<!DOCTYPE html>
<th:block th:replace="~{ /layout/basic :: setContent(~{this :: content})}">
	<!--  조각만들기 -->
	<th:block th:fragment="content">
		<h1 class="mt-4">도서 정보 수정</h1>
		<form>
			<div class="form-group">
				<label>번호</label> <input type="text" class="form-control" name="no" th:value="${dto.no}" readonly>
			</div>

			<div class="form-group">
				<label>제목</label> <input type="text" class="form-control" name="title" th:value="${dto.title}">
			</div>
			<div class="form-group">
				<label>요약</label>
				<textarea class="form-control" rows="5" name="summary">[[${dto.summary}]]</textarea>
			</div>
			<div class="form-group">
				<label>저자</label> <input type="text" class="form-control" name="writer" th:value="${dto.writer}">
			</div>
			<div class="form-group">
				<label>출판사</label> <input type="text" class="form-control" name="company" th:value="${dto.company}">
			</div>
			<div class="form-group">
				<label>가격</label> <input type="number" class="form-control" name="price" th:value="${dto.price}">
			</div>
<!-- 			<div class="form-group">
				<label>등록일</label> <input type="text" class="form-control" name="regDate" th:value="${#temporals.format(dto.regDate, 'yyyy/MM/dd HH:mm:ss')}" >
			</div> -->

			<button type="button" class="btn btn-outline-dark modifyBtn">수정</button>
			<button type="button" class="btn btn-outline-dark listBtn">목록으로</button>
			<button type="button" class="btn btn-outline-dark removeBtn">삭제</button>

		</form>

		<script th:inline="javascript">
			var form = $("form");

			$(".listBtn").click(function(){
				form
					.attr("action", "/board/list")
					.attr("method", "get")
					.submit();
			});	
			
			//수정버튼 이벤트 처리
			$(".modifyBtn").click( function(){

				if(!confirm("수정하시겠습니까?")){
					return;
				}
				form
					.attr("action", "/board/modify")
					.attr("method", "post")
					.submit();
			});
			
			
			//삭제버튼 이벤트 처리
			$(".removeBtn").click(function(){
				if(!confirm("삭제하시겠습니까?")){
					return;
				}
				form
					.attr("action", "/board/remove")
					.attr("method", "post")
					.submit();
			});
		</script>
	</th:block>

</th:block>
